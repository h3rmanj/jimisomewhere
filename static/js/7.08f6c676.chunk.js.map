{"version":3,"sources":["components/Desktop/Music/Booklet/index.js","../node_modules/pdfjs-dist/build sync"],"names":["pdfjs","GlobalWorkerOptions","workerSrc","Booklet","_useState","useState","_useState2","Object","C_Users_herma_Documents_jimisomewhere_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","maxPages","setMaxPages","_useState3","_useState4","page","setPage","_useState5","_useState6","firstPageRendered","setFirstPageRendered","_useState7","_useState8","firstPageLoaded","setFirstPageLoaded","_useState9","_useState10","lastPageLoaded","setLastPageLoaded","_useState11","window","innerWidth","_useState12","width","setWidth","useEffect","listener","_ref","newWidth","target","addEventListener","removeEventListener","onLoadSuccess","useCallback","_ref2","numPages","nextPage","p","prevPage","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","Fragment","react_pdf__WEBPACK_IMPORTED_MODULE_3__","file","options","cMapUrl","cMapPacked","loading","react_spinners__WEBPACK_IMPORTED_MODULE_4__","color","height","css","margin","style","display","pageNumber","onRenderSuccess","className","onClick","href","download","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","to","webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id"],"mappings":"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","file":"static/js/7.08f6c676.chunk.js","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport { BarLoader } from 'react-spinners'\r\npdfjs.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.js';\r\n\r\nconst Booklet = () => {\r\n  const [maxPages, setMaxPages] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [firstPageRendered, setFirstPageRendered] = useState(false);\r\n  const [firstPageLoaded, setFirstPageLoaded] = useState(false);\r\n  const [lastPageLoaded, setLastPageLoaded] = useState(false);\r\n\r\n  const [width, setWidth] = useState(window.innerWidth / 2);\r\n\r\n  useEffect(() => {\r\n    const listener = ({ target: { innerWidth }}) => {\r\n      const newWidth = innerWidth / 2;\r\n      setWidth(newWidth < 650 ? 650 : newWidth)\r\n    };\r\n    window.addEventListener(\"resize\", listener);\r\n    return () => window.removeEventListener(\"resize\", listener);\r\n  }, [setWidth])\r\n\r\n  const onLoadSuccess = useCallback(({numPages}) => setMaxPages(numPages), []);\r\n  const nextPage = useCallback(() => setPage(p => p >= maxPages ? maxPages : p+1), [maxPages]);\r\n  const prevPage = useCallback(() => setPage(p => p <= 1 ? 1 : p-1), []);\r\n\r\n  return (\r\n    <>\r\n      <Document\r\n        file='/booklet.pdf'\r\n        options={{\r\n          cMapUrl: 'cmaps/',\r\n          cMapPacked: true\r\n        }}\r\n        loading={<BarLoader color='#89A000' width={200} height={8} css={{width: '100%', margin: '30% auto'}}/>}\r\n        onLoadSuccess={onLoadSuccess}\r\n      >\r\n        <div style={{display: firstPageRendered ? 'inherit' : 'none'}}>\r\n          <Page\r\n            width={width}\r\n            pageNumber={page}\r\n            loading={<BarLoader color='#FFFFFF' width={200} height={8} css={{width: '100%', margin: '30% auto'}}/>}\r\n            onLoadSuccess={page === 1 ? () => setFirstPageLoaded(true) : null}\r\n            onRenderSuccess={page === 1 ? () => setFirstPageRendered(true) : null}/>\r\n\r\n          {firstPageLoaded && !lastPageLoaded &&\r\n            <div style={{display: 'none'}}>\r\n              <Page\r\n                pageNumber={page >= maxPages ? maxPages : page + 1}\r\n                onLoadSuccess={page + 1 === maxPages ? () => setLastPageLoaded(true) : null} />\r\n            </div>\r\n          }\r\n        </div>\r\n      </Document>\r\n      {firstPageRendered &&\r\n        <div className=\"MusicLinks\">\r\n          <span onClick={prevPage}>PREV</span>\r\n          <span onClick={nextPage}>NEXT</span>\r\n        </div>\r\n      }\r\n\r\n      <div className=\"mDownload\">\r\n        <a href=\"/booklet.pdf\" download=\"PONYBOY BOOKLET\">DOWNLOAD</a>\r\n      </div>\r\n\r\n      <div className=\"mBack\">\r\n        <Link to=\"/music\">BACK</Link>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Booklet;\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 34;"],"sourceRoot":""}